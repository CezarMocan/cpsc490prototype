// Copyright (c) 2012 Nick Williams - https://www.github.com/WickyNilliams/enquire.js
window.enquire=function(t){"use strict";function e(t,e){var i,n=0,o=t.length;for(n;o>n&&(i=e(t[n],n),i!==!1);n++);}function i(t){return"[object Array]"===Object.prototype.toString.apply(t)}function n(t){return"function"==typeof t}function o(t){this.initialised=!1,this.options=t,t.deferSetup||this.setup()}function s(t,e){this.query=t,this.isUnconditional=e,this.handlers=[],this.matched=!1}function r(){if(!t)throw new Error("matchMedia is required");var e=new s("only all");this.queries={},this.listening=!1,this.browserIsIncapable=!e.matchMedia()}return o.prototype={setup:function(t){this.options.setup&&this.options.setup(t),this.initialised=!0},on:function(t){this.initialised||this.setup(t),this.options.match(t)},off:function(t){this.options.unmatch&&this.options.unmatch(t)},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(t){return this.options===t||this.options.match===t}},s.prototype={matchMedia:function(){return t(this.query).matches},addHandler:function(t,e){var i=new o(t);this.handlers.push(i),e&&this.matched&&i.on()},removeHandler:function(t){var i=this.handlers;e(i,function(e,n){return e.equals(t)?(e.destroy(),!i.splice(n,1)):void 0})},assess:function(t){this.matchMedia()||this.isUnconditional?this.match(t):this.unmatch(t)},match:function(t){this.matched||(e(this.handlers,function(e){e.on(t)}),this.matched=!0)},unmatch:function(t){this.matched&&(e(this.handlers,function(e){e.off(t)}),this.matched=!1)}},r.prototype={register:function(t,o,r){var a=this.queries,l=r&&this.browserIsIncapable,c=this.listening;return a.hasOwnProperty(t)||(a[t]=new s(t,l),this.listening&&a[t].assess()),n(o)&&(o={match:o}),i(o)||(o=[o]),e(o,function(e){a[t].addHandler(e,c)}),this},unregister:function(t,i){var n=this.queries;return n.hasOwnProperty(t)?(i?n[t].removeHandler(i):(e(this.queries[t].handlers,function(t){t.destroy()}),delete n[t]),this):this},fire:function(t){var e,i=this.queries;for(e in i)i.hasOwnProperty(e)&&i[e].assess(t);return this},listen:function(t){function e(e){var n;window.addEventListener(e,function(e){n&&clearTimeout(n),n=setTimeout(function(){i.fire(e)},t)})}var i=this;return t=t||500,window.addEventListener?this.listening?this:(i.fire(),e("resize"),e("orientationChange"),this.listening=!0,this):void 0}},new r}(window.matchMedia);